# 第三章 网络安全

## 📋 章节导航
- [🏠 返回主页](../README.md)
- [📖 本章内容](#本章内容)
- [📝 课堂笔记](#-课堂笔记)
- [🔍 课后思考](#-课后思考)
- [📚 扩展阅读](#-扩展阅读)
- [⬅️ 上一章：密码学基础](../第二章-密码学基础/笔记.md)
- [➡️ 下一章：系统安全](#下一章) *(待创建)*

## 📖 本章内容
- [3.1 网络安全概述](#31-网络安全概述)
- [3.2 防火墙技术](#32-防火墙技术)
- [3.3 入侵检测系统（IDS）](#33-入侵检测系统ids)
- [3.4 虚拟专用网络（VPN）](#34-虚拟专用网络vpn)
- [3.5 网络协议安全](#35-网络协议安全)

---

## 3.1 网络安全概述

### 网络安全威胁模型

```mermaid
graph TD
    A[网络安全威胁] --> B[被动攻击]
    A --> C[主动攻击]
    
    B --> B1[窃听]
    B --> B2[流量分析]
    B --> B3[信息收集]
    
    C --> C1[伪装]
    C --> C2[重放攻击]
    C --> C3[消息修改]
    C --> C4[拒绝服务]
    
    style A fill:#ffebee
    style B fill:#e8f5e8
    style C fill:#e3f2fd
```

### 网络安全服务

```mermaid
mindmap
  root((网络安全服务))
    认证服务
      实体认证
      数据源认证
      对等实体认证
    访问控制
      身份验证
      权限检查
      资源保护
    数据机密性
      连接机密性
      无连接机密性
      选择字段机密性
    数据完整性
      连接完整性
      无连接完整性
      选择字段完整性
    不可否认性
      源不可否认
      交付不可否认
```

## 3.2 防火墙技术

### 防火墙类型

```mermaid
graph LR
    A[防火墙类型] --> B[包过滤防火墙]
    A --> C[状态检测防火墙]
    A --> D[应用层网关]
    A --> E[下一代防火墙]
    
    B --> B1[静态过滤]
    B --> B2[基于规则]
    B --> B3[网络层]
    
    C --> C1[动态过滤]
    C --> C2[连接状态]
    C --> C3[传输层]
    
    D --> D1[代理服务]
    D --> D2[深度检测]
    D --> D3[应用层]
    
    E --> E1[集成功能]
    E --> E2[威胁防护]
    E --> E3[智能分析]
    
    style A fill:#e3f2fd
    style B fill:#f3e5f5
    style C fill:#e8f5e8
    style D fill:#fff3e0
    style E fill:#ffebee
```

### 防火墙部署架构

```mermaid
graph TD
    subgraph "DMZ架构"
        A[Internet] --> B[外部防火墙]
        B --> C[DMZ区域]
        C --> D[内部防火墙]
        D --> E[内部网络]
        
        C --> F[Web服务器]
        C --> G[邮件服务器]
        C --> H[DNS服务器]
    end
    
    style A fill:#ffcdd2
    style B fill:#c8e6c9
    style C fill:#fff3e0
    style D fill:#c8e6c9
    style E fill:#e1f5fe
```

## 3.3 入侵检测系统（IDS）

### IDS分类

```mermaid
graph TD
    A[入侵检测系统IDS] --> B[按检测方法分类]
    A --> C[按部署位置分类]
    A --> D[按响应方式分类]
    
    B --> B1[基于特征的检测]
    B --> B2[基于异常的检测]
    B --> B3[基于协议的检测]
    
    C --> C1[网络型IDS NIDS]
    C --> C2[主机型IDS HIDS]
    C --> C3[混合型IDS]
    
    D --> D1[被动响应]
    D --> D2[主动响应]
    
    B1 --> B1A[已知攻击模式]
    B1 --> B1B[误报率低]
    B1 --> B1C[无法检测新攻击]
    
    B2 --> B2A[正常行为基线]
    B2 --> B2B[可检测新攻击]
    B2 --> B2C[误报率高]
    
    style A fill:#e3f2fd
    style B fill:#f3e5f5
    style C fill:#e8f5e8
    style D fill:#fff3e0
```

### IDS工作流程

```mermaid
sequenceDiagram
    participant N as 网络流量
    participant S as 数据采集
    participant A as 分析引擎
    participant D as 检测规则
    participant R as 响应模块
    participant M as 管理控制台
    
    N->>S: 网络数据包
    S->>A: 预处理数据
    A->>D: 匹配规则
    D->>A: 检测结果
    A->>R: 告警信息
    R->>M: 安全事件
    M->>R: 响应策略
    R->>N: 阻断/记录
```

## 3.4 虚拟专用网络（VPN）

### VPN类型

```mermaid
graph LR
    A[VPN类型] --> B[按实现层次]
    A --> C[按应用场景]
    
    B --> B1[链路层VPN]
    B --> B2[网络层VPN]
    B --> B3[应用层VPN]
    
    C --> C1[远程访问VPN]
    C --> C2[站点到站点VPN]
    C --> C3[客户端到客户端VPN]
    
    B1 --> B1A[PPTP]
    B1 --> B1B[L2TP]
    
    B2 --> B2A[IPSec]
    B2 --> B2B[GRE]
    
    B3 --> B3A[SSL VPN]
    B3 --> B3B[SSH隧道]
    
    style A fill:#e3f2fd
    style B fill:#f3e5f5
    style C fill:#e8f5e8
```

### IPSec协议架构

```mermaid
graph TD
    A[IPSec协议栈] --> B[安全协议]
    A --> C[密钥管理]
    A --> D[安全策略]
    
    B --> B1[AH 认证头]
    B --> B2[ESP 封装安全载荷]
    
    C --> C1[IKE 密钥交换]
    C --> C2[手工配置]
    
    D --> D1[SPD 安全策略数据库]
    D --> D2[SAD 安全关联数据库]
    
    B1 --> B1A[数据完整性]
    B1 --> B1B[数据源认证]
    B1 --> B1C[防重放攻击]
    
    B2 --> B2A[数据机密性]
    B2 --> B2B[数据完整性]
    B2 --> B2C[数据源认证]
    
    style A fill:#e3f2fd
    style B fill:#f3e5f5
    style C fill:#e8f5e8
    style D fill:#fff3e0
```

## 3.5 网络协议安全

### SSL/TLS协议

```mermaid
sequenceDiagram
    participant C as 客户端
    participant S as 服务器
    
    Note over C,S: SSL/TLS握手过程
    
    C->>S: 1. Client Hello
    S->>C: 2. Server Hello
    S->>C: 3. Certificate
    S->>C: 4. Server Hello Done
    C->>S: 5. Client Key Exchange
    C->>S: 6. Change Cipher Spec
    C->>S: 7. Finished
    S->>C: 8. Change Cipher Spec
    S->>C: 9. Finished
    
    Note over C,S: 安全通信开始
    C->>S: 加密数据传输
    S->>C: 加密数据传输
```

### 常见网络攻击

```mermaid
graph TD
    A[网络攻击类型] --> B[拒绝服务攻击]
    A --> C[中间人攻击]
    A --> D[会话劫持]
    A --> E[DNS攻击]
    
    B --> B1[SYN Flood]
    B --> B2[UDP Flood]
    B --> B3[DDoS分布式攻击]
    
    C --> C1[ARP欺骗]
    C --> C2[DNS欺骗]
    C --> C3[SSL剥离]
    
    D --> D1[TCP会话劫持]
    D --> D2[Web会话劫持]
    D --> D3[Cookie劫持]
    
    E --> E1[DNS缓存投毒]
    E --> E2[DNS隧道]
    E --> E3[域名劫持]
    
    style A fill:#ffebee
    style B fill:#e3f2fd
    style C fill:#f3e5f5
    style D fill:#e8f5e8
    style E fill:#fff3e0
```

## 📝 课堂笔记

### 重点内容
- [ ] 防火墙的工作原理和类型
- [ ] IDS和IPS的区别
- [ ] VPN的实现技术
- [ ] SSL/TLS握手过程
- [ ] 常见网络攻击及防护

### 实验记录
- [ ] 实验1：防火墙配置
- [ ] 实验2：IDS部署和配置
- [ ] 实验3：VPN搭建
- [ ] 实验4：网络攻击模拟

### 课堂讨论
- 

### 疑问点
- 

## 🔍 课后思考

1. 如何设计一个有效的网络安全架构？
2. 防火墙和IDS在网络安全中的作用有何不同？
3. VPN技术如何保证远程访问的安全性？

## 📚 扩展阅读
- [ ] 《网络安全技术与应用》
- [ ] RFC 2401 (IPSec架构)
- [ ] RFC 5246 (TLS 1.2)

## 🔄 快速导航
- [⬆️ 返回顶部](#第三章-网络安全)
- [🏠 返回主页](../README.md)
- [⬅️ 上一章：密码学基础](../第二章-密码学基础/笔记.md)
- [➡️ 下一章：系统安全](#下一章) *(待创建)*

---
*笔记时间：*
*复习时间：*